# Java-autoTest## 基于 Java 的接口自动化测试## 一、接口自动化测试## 1.接口定义接口：对外暴露的一个统一规范的接入点。<img src="http://pe9izua1e.bkt.clouddn.com/%E6%8E%A5%E5%8F%A3.png" width="850" hegiht="313" align=center />## 2.为什么要做接口测试1.更容易实现持续集成（背景就是第三点）     如何理解持续集成:     说背景---大型系统更多更复杂，系统间模块越来越多，组装的过程中出现的问题也越来越多,需要不断的迭代，不断的解决问题            2.自动化测试落地性性价比更高、比UI更稳定3.大型系统更多更复杂，系统间模块越来越多4.BUG 更容易定位，分模块进行测试5.降低开发成本、提高效率（bug 发现越早，修复成本越低）## 3.接口自动化测试开发技能树    1.开发语言：(如 Java）2.开发框架（如 TestNG、HttpClient） 3.Mock 技术（好处：1.在开发完成之前，要先模拟出接口调试测试代码  2.集成：前后端分离，将接口提供给前端开发人员使用，有测试产出）    4.数据持久层框架（如 MyBatis）    5.持续集成工具 （如 JenKins）    6.接口协议相关知识 （如 HTTP 协议）## 4.接口自动化测试落地过程产品开发阶段：<img src="http://pe9izua1e.bkt.clouddn.com/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.png" width="850" hegiht="313" align=center />1.需求阶段（测试人员了解客户需求、解决用户痛点）   2.研发阶段 （测试人员的价值开始体现，如利用Mock 技术将接口提供给前端，提高整体的开发效率）3.测试阶段 （测试人员的主要负责阶段）4.项目上线## 二、接口测试的用例设计## 1.接口测试范围1.功能测试：验证产品逻辑是否正确<img src="http://pe9izua1e.bkt.clouddn.com/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95.png" width="850" hegiht="313" align=center />2.异常测试<img src="http://pe9izua1e.bkt.clouddn.com/%E5%BC%82%E5%B8%B8%E6%B5%8B%E8%AF%95.png" width="850" hegiht="313" align=center />null : 是开发过程中特定指的一个对象为空的端符，就是一个空对象，不指向任何内存地址" " : 指一个空字符串，代表该对象有值，指向一个空地址负载均衡架构：测试某一个后台(Tomcat 4)挂了，挂了之后 Tomcat4的请求会直接返回一个错误（前台1个nginx ,后台多个 Tomcat），测试是否会返回这个错误，能否会使用户访问失败；一段时间后，想让 Tomcat4 重新加入，判断能否重新加入集群中并正确处理所有请求。冷热备份：冷备份不常见，热备份：前面有4个Tomca，后面有4个Tomca备份，如果Tomca4挂了，判断Tomca4的备份能否顶替之前的，仍然保持4个服务器存活；当Tomca4 正常后，判断能够成为Tomca4的备份。3.性能测试<img src="http://pe9izua1e.bkt.clouddn.com/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.png" width="850" hegiht="313" align=center />##2.自动化接口测试范围功能测试  +  数据异常测试环境异常测试示例：<img src="http://pe9izua1e.bkt.clouddn.com/%E7%8E%AF%E5%A2%83%E5%BC%82%E5%B8%B8.png" width="850" hegiht="313" align=center />## 三、手工接口测试到自动化框架设计## 手工接口测试的常用工具1.Postman2.HttpRequest3.Fiddler(具备抓包和发送请求功能)半自动化：Jmeter(结果统计方面不完善)###自动化框架的设计<img src="http://pe9izua1e.bkt.clouddn.com/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%A1%86%E6%9E%B6%E7%9A%84%E8%AE%BE%E8%AE%A1.png" width="850" hegiht="313" align=center />## 四、测试框架TestNG## 1.TestNG 适合测试人员使用的原因：1.比 Junit 涵盖功能更全面的测试框架2.Junit 更适合隔离性比较强的单元测试3.TestNG 更适合复杂的集成测试（特别适合接口测试）	## 2.TestNG 的使用<img src="http://pe9izua1e.bkt.clouddn.com/TestNG%20%E4%BD%BF%E7%94%A8.png" width="550" hegiht="313" align=center />